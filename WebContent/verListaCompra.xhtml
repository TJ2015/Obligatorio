<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:c="http://java.sun.com/jsp/jstl/core"> 

<h:head></h:head> 
<body>

	
<ui:composition template="/templates/layout_user.xhtml">
		<ui:define name="contenido">
		<div class="container-fluid clearfix">
		<div class="page-header text-center">
		  <h1>Compras</h1>
		</div>
			<section class="content">
                            
                            <div class="box">
                                <div class="box-header">
                                    <h3 class="box-title">Lista de Compras</h3>                                    
                                </div><!-- /.box-header -->
                                <div class="box-body table-responsive">
                                    <table id="example" class="table table-bordered table-striped">
                                        <thead>
                                            <tr>
                                                <th>Producto</th>
                                                <th>Cantidad</th>
                                                
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <h:form>
                                             <c:forEach var="compra" items="${avBean.listCompra}"  >
											     <tr>
											       <td> <label> ${compra.getProducto().getNombre()}</label>
											        </td>
											        <td> <label>  ${compra.cantidad} </label>
											        											     #{avBean.pruebaNom(compra.getProducto().getNombre())}
											        
											   <h:commandLink  action="#{avBean.eliminarEnListaDeCompra()}" actionListener="#{avBean.pruebaNom(compra.getProducto().getNombre())}">
											     <i class="fa fa-trash-o" style="float:right" ></i>
											     </h:commandLink>   
											        											     #{avBean.pruebaNom(compra.getProducto().getNombre())}
											        
											
											  <h:commandLink action="#{productoBean.cargarDataProducto(nombre)}" actionListener="#{avBean.productoComprado(nombre)}">
											     <i class="fa fa-check" style="float:right" ></i>
											     </h:commandLink>         
											        </td>
											     </tr>                        
											 </c:forEach>
											 </h:form> 
                                        </tbody>
                                        <tfoot>
                                            <tr>
                                                <th>Producto</th>
                                                <th>Cantidad</th>
                                                
                                            </tr>
                                        </tfoot>
                                    </table>
                                </div><!-- /.box-body -->
                            </div><!-- /.box -->

                </section><!-- /.content -->
	</div>
	 <!-- Modal -->
  <div class="modal" id="myModal1" role="dialog">
    <div class="modal-dialog">
    
		      <!-- Modal content-->
		      <div class="modal-content">
		        <div class="modal-header">
		          <button type="button" class="close" data-dismiss="modal">&times;</button>
		          <h4 class="modal-title">Eliminar Producto</h4>
		        </div>
		        <div class="modal-body">
		          <p>Â¿Esta seguro que desea eliminar este producto de la lista de compras?.</p>
		        </div>
		        <div class="modal-footer">
		        <h:form>
		        	  <h:commandButton  action="#{avBean.eliminarEnListaDeCompra(avBean.nombreProducto)}" value="Aceptar" class="btn btn-default" />  
		        	   <button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button> 	
		        </h:form>
		        
		         
		        </div>
		      </div>
      
    </div>
    </div>
		</ui:define>
</ui:composition>
</body> 
</html>
