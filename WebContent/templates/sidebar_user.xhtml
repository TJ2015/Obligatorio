<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:my="http://java.sun.com/jsf/composite"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">
<body>
	<ui:composition>
		<!-- -============= SIDE BAR =============- -->
		<!-- Left side column. contains the logo and sidebar -->
		<aside class="left-side sidebar-offcanvas container-fluid"> <!-- sidebar: style can be found in sidebar.less -->
		<section class="sidebar"> <h:form>
			<!-- Sidebar user panel -->
			<div class="user-panel">
				<div class="pull-left image">
					<img src="imagenes/usuario/?nick=${usuarioBean.nick}"
						class="img-circle" alt="User Image" />
				</div>
				<div class="pull-left info">
					<p>Bienvenido, ${sessionScope.dataUsuario.nombre}</p>
					<a href="#"><i class="fa fa-circle text-success"></i> Online</a>
				</div>
			</div>
			
			<ui:param name="cats" value="${avBean.mostrarListaCategoria()}"></ui:param>
			
			<!-- sidebar menu: : style can be found in sidebar.less -->
			<ul class="sidebar-menu">
				<li >
             	<a href="usuario_sapo.xhtml">
                         <i class="fa fa-home"></i> <span>Inicio</span>
                     </a>            
                 
                 </li>
				<li><a href="compartirAv.xhtml"> <i
						class="fa fa-plus-square"></i> <span>Compartir AV</span>
				</a></li>
				<li><a href="categoria_crear.xhtml"> <i
						class="fa fa-plus-square"></i> <span>Crear categor√≠a</span>
				</a></li>
				  <c:if test="${!cats.isEmpty()}">
				<li><a href="producto_crear.xhtml"> <i
						class="fa fa-plus-square"></i> <span>Crear Producto</span>
				</a></li>
				</c:if>
				<li class="treeview"><a href="#"> <i class="fa fa-folder"></i>
						<span>Categorias</span> <i class="fa fa-angle-left pull-right"></i>
				</a>

					<ul class="treeview-menu">
						
						<c:forEach var="cat" items="${cats}">
							<li class="treeview"><a href="#"> <span>${cat.nombre}</span>
									<i class="fa fa-angle-left pull-right"></i>
							</a>
								<ul class="treeview-menu">
									<c:forEach var="prod" items="${cat.productos}">
										<li><h:commandLink action="ver_producto"
												actionListener="#{productoBean.cargarDataProducto(prod.nombre)}">
												<i class="fa fa-angle-double-right"></i> 
			                                			${prod.nombre}
													</h:commandLink></li>
									</c:forEach>
								</ul></li>

						</c:forEach>
					</ul></li>
				<li><a href="mailbox.xhtml"> <i class="fa fa-envelope"></i>
						<span>Mensajes</span>
				</a></li>

				<li>
							<a href="reportes.xhtml">
                                <i class="fa fa-bar-chart-o"></i> 
                                <span>Reportes</span>
                            </a>
				</li>
			</ul>
		</h:form> </section> <!-- /.sidebar --> </aside>
	</ui:composition>
</body>
</html>
